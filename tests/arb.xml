
  <!--
  <usecase id="harm_usecase_1_numeric">
    <miner name="harm"/> 
    <input path="arb2/traces/numeric/golden.csv" type="csv"/>
    <config type="support" path="config1_numeric/generic.xml"/>
    <config type="run" path="config1_numeric/run_miner.sh"/>
    <input_adaptor path="csv_to_harm_csv/run.sh"/>
    <output_adaptor path="spotltl_to_spotltl/run.sh"/>
  </usecase>
  -->

  <!--
  <test name="test1_numeric">

    <compare with_strategy="time_to_mine"/>
    <compare with_strategy="semantic_equivalence" expected="input/arb2/expected/arb2_golden_ass_numeric.txt"/>
    <compare with_strategy="hybrid_similarity" expected="input/arb2/expected/arb2_golden_ass_numeric.txt"/>
  </test>
    <usecase id="harm_usecase_1_numeric"/> 
  -->


<usm-t>

  <input id="0">
    <!--
      - Defines the input of the test: traces and/or design
      - The paths a relative to $USMT_ROOT/input/
      - The id can be used in usecases to use this test
      - If both csv and vcd traces are used, the resulting vcd set must be equal to the csv test and viceversa, both from a naming point of view of the single elements (with different suffix) and in the content of the trace
      - Source designs are not checked for equivalence
      - clk and scope are mandatory, the scope is the hierachical path from the top module separate with ::
    -->
    <vcd path="arb2/traces/bool/golden.vcd" clk="clk" rst="rst" scope="arb2_bench::arb2_"/>
    <csv path="arb2/traces/bool/golden.csv"/>
    <verilog path="arb2/design_bool/arb2_bool.v"/>
  </input>

  <input id="1">
    <!--
    Also directories containing the traces and the design can be defined (suffix must match the type, e.g. .vcd for VCD, .csv for CSV, .v for Verilog)
    -->
    <vcd_dir path="arb2/traces/bool/" clk="clk" rst="rst" scope="arb2_bench::arb2_"/>
    <csv_dir path="arb2/traces/bool/"/>
    <verilog_dir path="arb2/design_bool/"/>
  </input>



  <usecase id="harm_usecase_1_bool">
    <miner name="harm"/> 
    <!--
    - Select the input to use for this usecase specifying the id and the types (as a comma separated list) of the input to use
    - dest_dir is the directory where the miner will write the input files relative to /input/ (of the docker container)
    -->
    <input id="0" type="vcd" dest_dir="bool/"/>
    <!--
      - Define the configuration files to use for this usecase. The type can be either "support" or "run". "run" specifies a path to the file containing an sh script to run the miner. The script will be used in the run_container.sh script (in $USMT_ROOT/miners/<miner_name>/docker/) to run the miner.
    - "support" specifies additional configuration files that are needed by the miner. 
    - The path is relative to $USMT_ROOT/miners/<miner_name>/configurations/
    -->

    <config type="support" path="config1_bool/generic.xml"/>
    <config type="run" path="config1_bool/run_miner.sh"/>
    <!--
     - Define the adaptors to use for this usecase.
     - Each input adaptor must have two inputs, a path to a directory containing the input files and a path to a directory where the output files will be written.
     - Each output adaptor must have two inputs, a path to a file containing the mined assertions in the custom format of the miner, and a path to an output file where the assertions will be written in a supported format (e.g. spotltl).
    -->
    <input_adaptor path="vcd_to_vcd/run.sh"/>
    <output_adaptor path="spotltl_to_spotltl/run.sh"/>
    <!--
    Variables exported here can be used in the script to run the miner. The variables are passed as environment variables to the docker container running the miner.
    -->
    <export MAX_THREADS="1" CONFIG="generic.xml" VCD_DIR="bool/" CLK="clk" VCD_SS="arb2_bench::arb2_"/>
  </usecase>

  <usecase id="texada_usecase_1">
    <miner name="texada"/> 
    <input id="0" type="csv" />
    <config type="run" path="config1/run_miner.sh"/>
    <input_adaptor path="csv_to_texada_log/run.sh"/>
    <output_adaptor path="spin_to_spotltl/run.sh"/>
    <export LOG_FILE="all_traces.txt"/>
  </usecase>

  <usecase id="samples2ltl_usecase_1">
    <miner name="samples2ltl"/> 
    <input id="0" type="csv"/>
    <config type="run" path="config1/run_miner.sh"/>
    <input_adaptor path="csv_to_samples2ltl_csv/run.sh"/>
    <output_adaptor path="samples2ltl_to_spotltl/run.sh"/>
    <export LOG_FILE="all_traces.txt"/>
  </usecase>

  <usecase id="goldminer_usecase_1">
    <miner name="goldminer"/> 
    <input id="0" type="vcd,verilog"/>
    <config type="support" path="config1/goldmine.cfg"/>
    <config type="run" path="config1/run_miner.sh"/>
    <input_adaptor path="vcd_to_vcd/run.sh"/>
    <output_adaptor path="goldminer_to_spotltl/run.sh"/>
    <export VCD_FILE="golden.vcd" CLK="clk" TOP_MODULE="arb2" />
  </usecase>



  <!--
  - Define the test to run
  -->
  <test name="arb2_test_1">


    <!--
    - Define the usecases to run for this test (must be defined above)
    - They will appear in the summary report in the same order as in this xml
    -->
    <usecase id="samples2ltl_usecase_1"/>
    <usecase id="harm_usecase_1_bool"/>
    <usecase id="goldminer_usecase_1"/>
    <usecase id="texada_usecase_1"/> 


    <!--
    - File containing the golden assertions to compare with
    - The path is relative to the root of usm-t
    - This is neccessary for all comparison strategies except for time_to_mine and fault_coverage
    -->
    <expected path="input/arb2/expected/arb2_golden_ass_bool.txt"/>

    <!--
      - List of evaluation strategies to use
      - They will appear in the summary report in the same order as in this xml
    -->
    <compare with_strategy="n_mined"/>
    <compare with_strategy="syntactic_similarity"/>
    <compare with_strategy="semantic_equivalence"/>
    <compare with_strategy="hybrid_similarity"/>
    <compare with_strategy="fault_coverage" faulty_traces="input/arb2/faulty_traces/" trace_type="csv" />
    <compare with_strategy="time_to_mine"/>
  </test>



</usm-t>
